---
layout: page-with-sidebar
title:  "小鲁班功能增强"
date:   2023-05-09 14:47:03 +0800
author: reflectt6
categories: "项目回顾"
mainTag: "项目回顾"
secondaryTag: "公司项目"
---

## 简介

首先讲下什么是小鲁班，他是一个AI类的项目，属于某花厂内源基金会。在chatGpt兴起之前就已经存在了，那个时候只是做一些简单任务处理，相当于一个小助理一样的存在。他是直接内嵌在某花厂的聊天软件中的聊天机器人，你可以以聊天的形式，去执行设置好的命令。当然了，在那个版本，这个聊天内容是非常死板的。

后来chatGpt兴起，小鲁班的制作人将它整合进了自己的项目，你既可以使用死板的命令去执行原有的操作，又可以像和chatGpt聊天一样，和他对话。蹭了这波热度，直接让小鲁班成为全公司风头无两的明星项目，如果你问问某花的员工，大概率是知道的，其热度远超第二名。

虽然热度超高，但是代码的提交者寥寥无几。博主就是在这个时候，加入了开发者行列。

## 需求设计

需求来源于痛点，下面介绍一下痛点和对应的需求

1、大数据组内知识管理分散：由于大数据组件的特点就是一个多，每个组件各不相同，对于新人上手是非常耗费时间的。我们部门针对此情况，也设计实现了一个门户网站，里面分类整理了各种组件的资料等。但是呢，类似网站这种是有不小的维护成本的，也许你的分类增加了，就要修改对应的网页布局，而且对于新人，在这样的一个大而全的网站里找大数据对应的知识其实不算友好。

于是博主设计实现了基于小鲁班的大数据搜索模块，只需要花少量的维护成本，就可以实现通过聊天的方式获取对应的知识。

其次博主还设计了按组分类的功能，不同项目组，各自维护自己的知识，互不干扰。

2、集成搜索引擎于一身，可以在聊天框，通过特殊标识符，调用百度、谷歌、心声等搜索引擎。其实你在搜索之前要找对应的官网，是不是还挺麻烦的，这一设计就是为了简化这个操作。

3、组内集群管理功能：由于我们组内包含有大量的服务器，对于服务器的使用和释放操作比较繁琐，经常要在群里问，某某服务器现在谁在用？有没有用完？我能不能用一下？之类的。说实话，群里@所有人，是一波无差别工具，对于不相干的人还是挺烦的。

由此，博主设计实现了以集群ip为单位的小组功能。可以通过小鲁班向某个ip的群组集体发送消息，而这个消息只有小组成员可以收到，不会干扰其他人。还可以专门为这个小组设置定时提醒任务。

可以说为集群管理提供了第二条路。

4、除了实现我们组内的功能之外，还为小鲁班实现了一个调试客户端。（最开始项目是没法调试的，只能直接上线）。这个调试客户端的原理，是利用了小鲁班提供消息发送能力，将代码运行结果，通过小鲁班现有的信息发送api，发送给自己，这样就可以在不修改线上源码的情况下，调试自己的代码了。

## 功能实现

1、知识管理功能主要需要对于知识进行搜索，我使用了python的ahocorasick这个库，这是一个ac自动机的库，可以高效的搜索字符串。

2、对于集成搜索的功能，我使用了网站网址拼接搜索内容的形式，直接返回对应的搜索连接，用户通过点击即可跳转到对应页面

3、对于集群管理，因为设计到了数据存储，我使用了redis来存储小组数据，据此来做crud。

## 效果

组内人员可以通过聊天机器人小鲁班，方便查找项目组内资料，方便使用任意引擎搜索，方便进行集群管理。

小鲁班项目贡献榜第七（当时）

获2023优秀QCC项目，奖金200元

获2023优秀改进意见，奖金200元

计划在部门内部推广



