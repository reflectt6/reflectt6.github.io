---
layout: post
title:  "使用github.io建站!"
date:   2023-09-06 19:47:03 +0800
categories: blog init

---

## 万里长征第一步

github.io是最近一年发现的宝地，看到了公司里有些大佬写的博客就是在github.io上，只觉得逼格甚高。近几天刚好在感慨时光已逝，记忆也是靠不住的东西。写写博客蛮好的，以后想回顾哪里就回顾哪里，妈妈再也不用担心我的学习。

遂入了github.io的坑。本人属于纯小白，本篇文章也是以小白的视角写成的，适合同为小白的朋友观看。大神朋友请在父母陪同下观看，以免觉得太过简单而砸电脑。

github.io真的蛮不错，博主以前花过点小钱自己建站，自己搞有很多缺点，不稳定，不安全，费钱，要买域名。远程连接经常卡成ppt。github.io提供你免费的域名，也不需要买服务器，靠谱！

github提供的博客叫做[github pages](https://pages.github.com/), 通过[github官方教程](https://docs.github.com/en/pages/quickstart "github官方教程")，可以发现github推荐了一个建站工具[jekyll](https://jekyllrb.com/ "gjekyll官网")。在mac上可以[通过brew快速安装环境](https://jekyllrb.com/docs/installation/macos/)：

```shell
# 使用brew安装前置软件
brew install chruby ruby-install xz

# 安装ruby 3.1.3
ruby-install ruby 3.1.3

# 给zsh添加ruby启动脚本
echo "source $(brew --prefix)/opt/chruby/share/chruby/chruby.sh" >> ~/.zshrc 
echo "source $(brew --prefix)/opt/chruby/share/chruby/auto.sh" >> ~/.zshrc 
echo "chruby ruby-3.1.3" >> ~/.zshrc # run 'chruby' to see actual version

# 查看ruby版本
ruby -v
```

执行完成之后还会下载好gem，此时已经具备了安装jekyll的前置环境

```shell
gem install jekyll bundler
jekyll new myblog
cd myblog
# 启动本地服务
bundle exec jekyll serve
```

至此，本地博客建好了，下一步就是同步到github上了。主要的步骤在[这里](https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/creating-a-github-pages-site-with-jekyll)。

比较重要的是github-pages的[依赖版本](https://pages.github.com/versions/)，需要根据这个版本配置gemfile，然后通过`bundle install`去安装，github教程中直接注释掉了`gem "jekyll", "~-> 4.3.2"`但是这样会导致无法进行本地调试，因此我们根据依赖版本中jekyll的版本，对其进行修改，然后执行`bundle install`。

这样我们就成功配置好了github环境和本地调试环境...吗？事实上还差一点，我的mac上会莫名其妙报如下问题

`bundler: failed to load command: jekyll (~/.gem/ruby/3.1.3/bin/jekyll)
~/.gem/ruby/3.1.3/gems/jekyll-3.9.3/lib/jekyll/commands/serve/servlet.rb:3:in `require': cannot load such file -- webrick (LoadError)`

本小白是解决不了的，但是本白可以从网上抄答案，在[这里](https://stackoverflow.com/questions/69890412/bundler-failed-to-load-command-jekyll)。总结一下就是执行一下`bundle add webrick`，貌似是github的bug。

至此博客算是像点样子了，也可以在本地快速调试，万里长征第一步！

## 是时候学习新知识了

啥都不懂才叫小白啊，电脑里多了这么多东西，让本就不宽裕的磁盘雪上加霜，快看看是什么🐮🐎住到电脑里来了？

### chruby

chruby负责本机ruby版本的切换，在zshrc中添加的脚本就是调用了它。

### ruby-install

ruby-install负责ruby的下载、编译、安装。附带一个[ruby-install镜像站](https://cache.ruby-lang.org/pub/ruby/)。

### xz

用来解压xz压缩文件的linux程序

### gem

gem是ruby的包管理器

### bundle

[ruby的依赖管理器](https://www.bundler.cn/)，在gemfile中指定需要的依赖。比较重要的文件是gemfile和gemfile.lock

### Jekyll

- 建站工具，主语言是ruby，支持markdown、html

- [Liquid](https://shopify.github.io/liquid/tags/control-flow/)，类似代码中的控制流，由[objects](https://shopify.github.io/liquid/basics/introduction/#objects)、[tags](https://shopify.github.io/liquid/basics/introduction/#tags)、[filters](https://shopify.github.io/liquid/basics/introduction/#filters)组合而成，obejcts就是页面中定义的变量、tags就是用于控制的标签、filter用于改变页面呈现内容。

  用户可以通过插件去扩充这些内容。

  以标签为例：

  [include标签](https://jekyllrb.com/docs/includes/)，用来导入footer.html等其他页面
  
  [代码高亮](https://jekyllrb.com/docs/liquid/tags/#code-snippet-highlighting)，可以配置哪种语言
  
  [显示行数](https://jekyllrb.com/docs/liquid/tags/#line-numbers)，主要针对代码高亮配置
  
  [标签内容只对指定行生效](https://jekyllrb.com/docs/liquid/tags/#marking-specific-lines)，主要针对代码高亮配置
  
  [重定向到网页的标签](https://jekyllrb.com/docs/liquid/tags/#link)，可以指向内部资源
  
  [指向博客的标签](https://jekyllrb.com/docs/liquid/tags/#linking-to-posts),支持指向子目录下的博客



### markdown (typora)

- Option + command + c 代码块
- command + k 快速创建链接
- command + l 源代码模式
- control + - 注释
- F8 专注模式
- F9 打字机模式















