---
layout: post
title:  "使用github.io建站!"
date:   2023-09-06 19:47:03 +0800
categories: blog

---

## 万里长征第一步

github.io是最近一年发现的宝地，看到了公司里有些大佬写的博客就是在github.io上，只觉得逼格甚高。近几天刚好在感慨时光易逝，记忆也是靠不住的东西。写写博客蛮好的，以后想回顾哪里就回顾哪里，妈妈再也不用担心我的学习。

遂入了github.io的坑。本人属于纯小白，本篇文章也是以小白的视角写成的，适合同为小白的朋友观看。大神朋友请在父母陪同下观看，以免觉得太过简单而砸电脑。

github.io真的蛮不错，博主以前花过点小钱自己建站，自己搞有很多缺点，不稳定，不安全，费钱，要买域名。远程连接经常卡成ppt。github.io提供你免费的域名，也不需要买服务器，靠谱！

github提供的博客叫做[github pages](https://pages.github.com/), 通过[github官方教程](https://docs.github.com/en/pages/quickstart "github官方教程")，可以发现github推荐了一个建站工具[jekyll](https://jekyllrb.com/ "gjekyll官网")。在mac上可以[通过brew快速安装环境](https://jekyllrb.com/docs/installation/macos/)：

```shell
# 使用brew安装前置软件
brew install chruby ruby-install xz

# 安装ruby 3.1.3
ruby-install ruby 3.1.3

# 给zsh添加ruby启动脚本
echo "source $(brew --prefix)/opt/chruby/share/chruby/chruby.sh" >> ~/.zshrc 
echo "source $(brew --prefix)/opt/chruby/share/chruby/auto.sh" >> ~/.zshrc 
echo "chruby ruby-3.1.3" >> ~/.zshrc # run 'chruby' to see actual version

# 查看ruby版本
ruby -v
```

执行完成之后还会下载好gem，此时已经具备了安装jekyll的前置环境

```shell
gem install jekyll bundler
jekyll new myblog
cd myblog
# 启动本地服务
bundle exec jekyll serve
```

至此，本地博客建好了，下一步就是同步到github上了。主要的步骤在[这里](https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/creating-a-github-pages-site-with-jekyll)。

比较重要的是github-pages的[依赖版本](https://pages.github.com/versions/)，需要根据这个版本配置gemfile，然后通过`bundle install`去安装，github教程中直接注释掉了`gem "jekyll", "~-> 4.3.2"`但是这样会导致无法进行本地调试，因此我们根据依赖版本中jekyll的版本，对其进行修改，然后执行`bundle install`。

这样我们就成功配置好了github环境和本地调试环境...吗？事实上还差一点，我的mac上会莫名其妙报如下问题（本地调试时）

`bundler: failed to load command: jekyll (~/.gem/ruby/3.1.3/bin/jekyll)
~/.gem/ruby/3.1.3/gems/jekyll-3.9.3/lib/jekyll/commands/serve/servlet.rb:3:in `require': cannot load such file -- webrick (LoadError)`

本小白是解决不了的，但是本白可以从网上抄答案，在[这里](https://stackoverflow.com/questions/69890412/bundler-failed-to-load-command-jekyll)。总结一下就是执行一下`bundle add webrick`，这个操作就是在gemfile中添加了webrick，github教程就没想让你本地调试，所以没写这一步...

至此博客算是像点样子了，也可以在本地快速调试，万里长征第一步！

## 啥都不懂才叫小白

前面一顿操作，是不是看的云里雾里的？电脑里多了这么多东西，让本就不宽裕的磁盘雪上加霜，快看看是什么🐮🐎住到电脑里来了。

### ruby

众多编程语言中的一种，是我没接触过的存在

### chruby

chruby负责本机ruby版本的切换，在zshrc中添加的脚本就是调用了它。

### ruby-install

ruby-install负责ruby的下载、编译、安装。附带一个[ruby-install镜像站](https://cache.ruby-lang.org/pub/ruby/)。

### xz

用来解压xz压缩文件的linux程序

### gem

gem是ruby的包管理器

### bundle

[ruby的依赖管理器](https://www.bundler.cn/)，在gemfile中指定需要的依赖。比较重要的文件是gemfile和gemfile.lock

### Jekyll

- 建站工具，主语言是ruby，支持markdown、html

- [Liquid](https://shopify.github.io/liquid/tags/control-flow/)，类似代码中的控制流，由[objects](https://shopify.github.io/liquid/basics/introduction/#objects)、[tags](https://shopify.github.io/liquid/basics/introduction/#tags)、[filters](https://shopify.github.io/liquid/basics/introduction/#filters)组合而成，obejcts就是页面中定义的变量、tags就是用于控制的标签、filter用于改变页面呈现内容。

  用户可以通过插件去扩充这些内容。

  以标签为例：

  [include标签](https://jekyllrb.com/docs/includes/)，用来导入footer.html等其他页面
  
  [代码高亮](https://jekyllrb.com/docs/liquid/tags/#code-snippet-highlighting)，可以配置哪种语言
  
  [显示行数](https://jekyllrb.com/docs/liquid/tags/#line-numbers)，主要针对代码高亮配置
  
  [标签内容只对指定行生效](https://jekyllrb.com/docs/liquid/tags/#marking-specific-lines)，主要针对代码高亮配置
  
  [重定向到网页的标签](https://jekyllrb.com/docs/liquid/tags/#link)，可以指向内部资源
  
  [指向博客的标签](https://jekyllrb.com/docs/liquid/tags/#linking-to-posts),支持指向子目录下的博客



### markdown (typora)

目前最流行的文档格式，主打一个方便快捷，省去你排版的苦功夫。比较好用的有typora，下面是一些快捷键，让你的操作更丝滑。以后写博客就用它了！

- Option + command + c 代码块
- command + k 快速创建链接
- command + l 源代码模式
- control + - 注释
- F8 专注模式
- F9 打字机模式

## 首要目标是好用

架子搭起来了，但距离好用、好看还有不小差距捏。

### 导航栏

想要个导航栏。

### 搜索栏

想要个搜索栏。

### 主题

想换个好看的主题！

这里是[受github支持的主题](https://pages.github.com/themes/)。把官方主题看了一遍，hacker主题泰酷辣！但是没有导航栏，不能搜索，我不满意。leap day主题有左侧导航栏、minimal主题有一个固定不动的左侧栏位、time machine主题有一个浮在最上层的标题。不会写作业没事，会抄就行。git，启动！分析一下各个主题的代码，这里有亿点难度。前端知识还挺多，如果没有基础，看代码还是比较头疼，我这里列了一下我不懂的东西。

- 主题代码结构：
  - _layouts: 里面放了各种定义好的布局，你可以在md文件头上，通过layout变量，直接和这里的布局关联
  - index.md: 你的首页

- html:

  - href属性，表示超链接的URL
  - nav标签，表示导航栏，很关键！

- scss：类似css样式表，可以看w3school补一下，但这个网址里的东西并不全

  - Margin: [外边距](https://zhuanlan.zhihu.com/p/75920564)

  - [选择器](https://www.w3school.com.cn/css/css_selectors.asp)：`.`用于类选择器

  - [伪类/元素选择器](https://blog.csdn.net/weixin_35753291/article/details/129614124)：.`cf:before` 属于高级的用法了，资料也不好找

  - [!default](https://blog.csdn.net/QDY5945/article/details/102211495): 指定scss变量默认值

  - [$a](https://www.bilibili.com/video/BV1Ci4y1d74K?p=6&vd_source=071e91b448cc575bb2206174edc54928): 定义一个变量a

  - [@mixin](https://blog.csdn.net/feiying0canglang/article/details/125937808)：混合代码样式，可以使用@include调用

  - @import：导入其他的scss文件

  - !global:强制转成全局变量

  - [@content](https://blog.csdn.net/hide_in_darkness/article/details/107543887)：将@include调用处的配置，同步到@mixin中。这玩意比较抽象，得多看点例子才能懂。有点嵌套的意思在。

  - [font-family](https://blog.csdn.net/Merciful_Lion/article/details/123310499)

  - [display属性 显示模式](https://www.bilibili.com/video/BV1p84y1P7Z5?p=114&vd_source=071e91b448cc575bb2206174edc54928) ：

    - block 块元素：独占一行，默认宽撑满父元素，默认高由内容撑开，可以通过css设置宽高。代表标签  <div>

    - inline 行内元素：不独占一行，排不下时，下一行从左向右排列，默认宽由内容撑开，默认高由内容撑开，无法通过css设置宽高. 代表标签 <span>

    - Block-inline 行内块元素：

      总结

      ![image-20230908192611586](/Users/rainnight/Library/Application Support/typora-user-images/image-20230908192611586.png)

    - 伸缩盒模型

      ![image-20230908195728721](/Users/rainnight/Library/Application Support/typora-user-images/image-20230908195728721.png)

    - 伸缩容器

      ![image-20230908200739448](/Users/rainnight/Library/Application Support/typora-user-images/image-20230908200739448.png)

    - 浮动（float 文字等浮动在元素周围的效果，脱离文档流，会导致父元素高度坍塌），[使用clearfix清除浮动](https://blog.csdn.net/weixin_41041379/article/details/81871980)：具体例子看一下[b站视频](https://www.bilibili.com/video/BV1p84y1P7Z5?p=149&vd_source=071e91b448cc575bb2206174edc54928)17分钟，父元素clearfix清除浮动，子元素设置leftfix、rightfix，分别实现左浮和右浮

    - [Overflow-x](https://www.runoob.com/cssref/css3-pr-overflow-x.html): 设为auto， 如果溢出框，则应该提供滚动机制。

    - [opacity属性](https://10.1pxeye.com/css-opacity/)





一通操作之后，终于把侧边栏整出来了。问题还是很丑，专业的人做专业的事。

![image-20230909093900561](/Users/rainnight/Library/Application Support/typora-user-images/image-20230909093900561.png)














