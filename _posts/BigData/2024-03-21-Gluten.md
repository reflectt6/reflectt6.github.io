---
layout: page-with-sidebar-math
title:  "Gluten"
date:   2024-03-14 14:47:03 +0800
author: reflectt6
categories: "大数据"
#permalink: 
mainTag: "大数据"
secondaryTag: ""
hideTag: false
---

## [什么是Gluten？](https://velox-lib.io/)

解释Gluten之前，需要先了解一下什么是[Velox](/大数据/2024/03/21/Gluten.html)？

我们已经知道了，Velox是大数据计算引擎的CPP版本，效率更高。

例如spark，可以将velox作为计算引擎，Gluten则是spark和velox的中间层。spark是用scala写的，velox是c++写的，那么作为这两个人的中间件，Gluten就必须既有scala代码又有c++代码。

细分之下gluten做了两件事：

- 1、验证spark plan，在符合要求的情况下将spark plan转化为substrait plan（scala/java代码）

- 2、将substrait plan转化为velox等引擎的plan（c++）。是的，gluten不光可以对接velox，还可以对接clickhouse。gluten也不一定非要接收spark plan，也可以接收presto plan。这也是为什么要做中间的substrait plan的原因。
- 3、转化完之后就是执行了，所以gluten中包含velox代码和clickhouse代码。







